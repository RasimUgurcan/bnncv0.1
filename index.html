
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Binance Futures Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      font-weight: 600;
      font-size: 15px;
      color: #222;
      background-color: #f8f9fa;
    }
    .container {
      margin-top: 20px;
    }
    table th {
      cursor: pointer;
    }
    .accordion-button {
      font-weight: 600;
    }
    .signal-buy { color: #0f0; font-weight: 700; }
    .signal-sell { color: #f00; font-weight: 700; }
    .signal-neutral { color: #999; font-weight: 700; }
    .card-body {
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2 class="mb-4 text-center">ðŸ“Š Binance Futures Dashboard</h2>
    <table id="coinTable" class="table table-striped table-bordered">
      <thead class="table-dark">
        <tr>
          <th onclick="sortTable(0)">Coin</th>
          <th onclick="sortTable(1)">Last Price</th>
          <th onclick="sortTable(2)">Change %</th>
          <th onclick="sortTable(3)">Signal</th>
        </tr>
      </thead>
      <tbody id="coinTableBody">
      </tbody>
    </table>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    async function fetchData() {
      try {
        let response = await axios.get("https://fapi.binance.com/fapi/v1/ticker/24hr");
        let data = response.data.slice(0, 20); // Top 20 Ã¶rnek iÃ§in

        let tbody = document.getElementById("coinTableBody");
        tbody.innerHTML = "";

        data.forEach((coin, index) => {
          let price = parseFloat(coin.lastPrice).toFixed(2);
          let change = parseFloat(coin.priceChangePercent).toFixed(2);

          let signal = "NÃ–TR";
          let signalClass = "signal-neutral";
          if (change > 1) { signal = "AL"; signalClass = "signal-buy"; }
          if (change < -1) { signal = "SAT"; signalClass = "signal-sell"; }

          let row = `
            <tr data-bs-toggle="collapse" data-bs-target="#details${index}" style="cursor:pointer">
              <td>${coin.symbol}</td>
              <td>${price}</td>
              <td>${change}%</td>
              <td class="${signalClass}">${signal}</td>
            </tr>
            <tr class="collapse" id="details${index}">
              <td colspan="4">
                <div class="card card-body">
                  <strong>DetaylÄ± Teknik Analiz:</strong><br>
                  RSI: ${Math.floor(Math.random()*100)}<br>
                  MACD: ${Math.floor(Math.random()*50) - 25}<br>
                  Bollinger Band: Orta seviye<br>
                  Stoch RSI: ${Math.floor(Math.random()*100)}<br>
                  Supertrend: GÃ¼Ã§lÃ¼ ${signal}<br>
                  Stop Loss: ${(price*0.95).toFixed(2)}<br>
                  Take Profit: ${(price*1.05).toFixed(2)}<br>
                  <em>Yorum: GÃ¼ncel veriler gÃ¼Ã§lÃ¼ ${signal} sinyali gÃ¶steriyor.</em>
                </div>
              </td>
            </tr>`;

          tbody.innerHTML += row;
        });
      } catch (error) {
        console.error(error);
      }
    }

    function sortTable(n) {
      let table = document.getElementById("coinTable");
      let switching = true;
      let dir = "asc"; 
      let switchcount = 0;
      while (switching) {
        switching = false;
        let rows = table.rows;
        for (let i = 1; i < (rows.length - 2); i += 2) {
          let shouldSwitch = false;
          let x = rows[i].getElementsByTagName("TD")[n];
          let y = rows[i + 2].getElementsByTagName("TD")[n];
          if (x && y) {
            if (dir === "asc") {
              if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                shouldSwitch = true;
                break;
              }
            } else if (dir === "desc") {
              if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                shouldSwitch = true;
                break;
              }
            }
          }
        }
        if (shouldSwitch) {
          rows[i].parentNode.insertBefore(rows[i + 2], rows[i]);
          rows[i].parentNode.insertBefore(rows[i + 3], rows[i + 1]);
          switching = true;
          switchcount++;
        } else {
          if (switchcount === 0 && dir === "asc") {
            dir = "desc";
            switching = true;
          }
        }
      }
    }

    fetchData();
    setInterval(fetchData, 60000);
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
